<!--pages/makeVisitor/makeVisitor.wxml-->
<view class="container">
  <view class="page-body" hidden="{{personInfo}}">
    <form bindsubmit="formSubmit" bindreset="formReset">
      <view class="section my_firm" bindtap="surveyedName">
        <view class="section__title">
          <text class="star">*</text>被访人</view>
        <view class="section_name">
          <input name="surveyedName" style="text-align:right;" hidden='true' data-name='surveyedName' bindinput='trim' value="{{form.surveyedName}}" />
          <text>{{form.surveyedName}}</text>
          <image class="right_img" src='../../images/arrow.png'></image>
        </view>
      </view>
      <view class="section my_firm">
        <view class="section__title">
          <text class="star">*</text>被访企业</view>
        <view class="section_name">
          <input name="firm" style="text-align:right;" hidden='true' data-name='firm' bindinput='trim' value="{{form.firm}}" />
          <text>{{form.firm}}</text>
        </view>
      </view>
      <view class="section my_firm">
        <view class="section__title">
          <text class="star">*</text>被访人手机</view>
        <view class="section_name">
          <input name="surveyedPhone" style="text-align:right;" hidden='true' data-name='surveyedPhone' bindinput='trim' value="{{form.surveyedPhone}}" />
          <text>{{form.surveyedPhone}}</text>
        </view>
      </view>
      <view class="section  my_firm">
        <view class="section__title">
          <text class="star">*</text>访问事由</view>
        <view class="section_name">
          <picker bindchange="causeSelect" value="form.asterask" range="{{causeAeeay}}">
            <input name="asterask" data-name='asterask' hidden='true' bindinput='trimAsterask' value="{{form.asterask}}" />
            <text>{{form.asterask}}</text>
            <image class="right_img" src='../../images/arrow.png'></image>
          </picker>
        </view>
      </view>
      <view class="section my_firm">
        <view class="section__title">
          <text class="star">*</text>访问日期</view>
        <view class="section_name">
          <picker mode="date" start="{{rangeStart}}" bindchange="bindMultiPickerChange" value="{{form.date}}">
            <input name="date" hidden='true' value="{{form.date}}" />
            <text>{{form.date}}</text>
            <image class="right_img" src='../../images/arrow.png'></image>
          </picker>
        </view>
      </view>
      <view class="section">
        <view class="section__title">
          <text class="star">*</text>访客姓名</view>
        <view class="section_name">
          <input name="name" style="text-align:right;" maxlength="12" data-name='name' bindinput='trim' value="{{form.name}}" placeholder="请输入姓名" />
        </view>
      </view>
      <view class="section" hidden='{{faceEnabled}}' bindtap='camera'>
        <view class="section__title">
          <text class="star">*</text>访客照片</view>
        <view class="section_name">
          <input name="faceImgUrl" style="text-align:right;" hidden='true' value="{{form.faceImgUrl}}" placeholder="请输入姓名" />
          <view class="photo">
            <image src='{{form.faceImg}}'></image>
          </view>
        </view>
      </view>
       <view class="section">
        <view class="section__title">
          <text class="star">*</text>手机号</view>
        <view class="section_name">
          <input name="phone" style="display:inline-block;width:{{phoneValue}}%;text-align:right;padding-right:10rpx;line-height:2;padding-bottom:10rpx;" value="{{form.phone}}" disabled='disabled' />
          <button style='display:inline-block;width:48%' open-type="getPhoneNumber" bindgetphonenumber="getPhoneNumber" hidden='{{getPhone}}'>获取手机号</button>
          <!-- <input name="phone" value="{{form.phone}}" style="text-align:right;"></input> -->
        </view>
      </view>
      <view class="section" hidden='{{idNoEnabled}}'>
        <view class="section__title">
          <text class="star">*</text>{{idNoLabel}}</view>
        <view class="section_name">
          <input name="idcard" style="text-align:right;" data-name='idcard' bindinput='trimIdcard' value="{{form.idcard}}" placeholder="请输入身份证号码" />
        </view>
      </view>
      <view style="width:100%;height:100rpx;border-top:1rpx solid #eee"></view>
      <view class="btn-area">
        <button form-type="submit">提交</button>
      </view>
    </form>
  </view>
  <view class="uploadInfo" hidden='{{uploadInfo}}' bindtap='showInFo'>
    <image src='../../images/info.png'></image>
  </view>
</view>